# Use this file to suppress TSAN issues from 3rd party libraries
# https://github.com/google/sanitizers/wiki/ThreadSanitizerSuppressions

# vkDestroyDevice called in igl::vulkan::Device::~Device() causes false-positive in TSAN because of some swiftshader issue
race:igl::vulkan::Device::~Device()

# libvulkan_lvp.so (LLVMpipe Vulkan driver)
# Lavapipe has internal data races between render and worker threads
# (e.g. realloc vs memcpy, pthread_mutex ops). Suppress all races in
# the lavapipe shared library since we cannot fix third-party code.
race:libvulkan_lvp.so

# libLLVM.so (LLVM library used by Lavapipe)
# Lavapipe uses LLVM for JIT compilation, and LLVM has internal data races
# in StringMap operations between llvmpipe worker threads during shader
# compilation. This is third-party code we cannot fix.
race:libLLVM.so
